<main role="main" class="-rel -overflow-hidden -full-height">
  <section class="messages-main -full-height">
    <div class="messages-sidebar -float-left -full-height">
      	<div class="messages-sidebar-header -clear-after">
      		<div class="messages-search -col-5"></div>
      		<div class="messages-new -pl1 -col-7"></div>
      	</div>
    	<div class="white-grad side-grad"><div></div></div>
      	<div class="messages-list">
      	</div>
    </div>
    <div class="messages-body -full-height">
      <div class="no-messages -table -full-width -full-height">
        <div class="-table-cell -vam -text-center">
          <div class="no-messages__inner">
            <p class="no-messages-text -color-neutral-mid">Select a conversation from the list to start messaging.</p>
          </div>
        </div>
      </div>
    <div class="messages-body-container -full-height">
    	<div class="messages-body-header">
    		<div class="m-action">
    			<span class="conversation-title">Conversation with Pepe Pecas <a href="#">one link</a> and after a while <a href="#"><b>another bold</b></a></span>
      			<div class="action-icon delete-thread">
      				<svg class="delete-thread-svg -s16">
      					<use xlink:href="#svg-trash"></use>
      				</svg>
      			</div>
      		</div>
      		<div class="m-new">
      			<div class="-col-3">
      				<span>New message to:</span>
      			</div>
      			<div class="-col-9">
	    			<div class="form-field">
	    				<div class="cv-input small hollow">
	    					<input class="search-users" type="text" placeholder="Type name">
	    				</div>
	    			</div>
	    			<ul class="search-users-result">
	    			</ul>
    			</div>
      		</div>
    	</div>
    	<div class="messages-container -rel">
    		<div class="white-grad"><div></div></div>
    		<div class="messages-conversation">
    			<div class="msgs">
    				<!-- messages container -->
    			</div>
    		</div>

    		<div class="message-create"></div>
    	</div>

    </div>
    </div>
  </section>
</main>

<script>
  var App = new CV.App();
  App.addInteractiveSidebar();

  $( document ).ready(function() {
    var threadsContainer = new CV.ThreadsContainer({
      name : 'threadContainer',
      element : $(document.querySelector('.messages-main')),
      threads : <%= JSON.stringify(threads) %>,
      currentPerson : <%= JSON.stringify(currentPerson) %>
    });

    var threadHash = window.location.hash.substr(1);

    if (threadHash){
      threadsContainer.element.find('.messages-list #'+threadHash).click();
    }
  });

  var threadListEl = $(document.querySelector('.messages-list'));
  var searchUsersResultEl = $(document.querySelector('.search-users-result'));
</script>
