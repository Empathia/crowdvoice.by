<script src="/socket.io/socket.io.js"></script>

<main role="main" class="cv-main-content -rel">
  <div class="voice-background-cover">
    <img class="voice-background-cover-image" src="/img/sample/voices/cover-00.jpg" alt="">
  </div>

  <section class="voice-intro -rel">
    <h1 class="voice-heading -font-bold -m0"><%= voiceInfo.title %></h1>
    <div class="voice-stats">
      <span class="-inline-block">
        <b class="voice-stats__post-count"><%= voiceInfo.postCount %></b> posts
      </span> &middot;
      <span class="-inline-block">
        <b class="voice-stats__followers">0</b> followers
      </span> &middot;

      <% if(voiceInfo.locationName) { %>
        <span class="-inline-block">
          <%= voiceInfo.locationName %>
        </span> &middot;
      <% } %>

      <button class="voice-about-show-btn ui-btn -sm -outline">About</button>
    </div>
  </section>

  <section class="voice-posts -rel">
  </section>

  <footer class="voice-footer">
    <div class="voice-footer-inner -clearfix">
      <div class="voice-footer-meta-wrapper -float-left">
        <div class="voice-footer-title -font-bold">
          <%= voiceInfo.title %>
        </div>
        <div class="voice-footer-by -color-grey">
          by <%= voiceInfo.author.name %>
        </div>
      </div>
      <div class="voice-footer-right -float-right">
        View
        <div class="ui-select -sm -separator">
          <svg class="ui-select-svg">
            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg-arrow-up-down"></use>
          </svg>
          <select class="ui-select-select">
            <option value="">Option I</option>
            <option value="">Option II</option>
            <option value="">Option III</option>
          </select>
        </div>
        <button class="ui-btn -sm -outline">Follow Voice</button>
        <div class="ui-btn-group">
          <button class="ui-btn -sm -outline">
            <svg class="voice-footer-svg">
              <use xlink:href="#svg-embed"></use>
            </svg>
          </button>
          <button class="ui-btn -sm -outline">
            <svg class="voice-footer-svg">
              <use xlink:href="#svg-share"></use>
            </svg>
          </button>
        </div>
        <button class="ui-btn -sm -outline">moderate</button>
      </div
    </div>
  </footer>
</main>

<script>
  var voiceInfo = <%= JSON.stringify(voiceInfo) %>;
  var otherOptions = {
    followerCount         : 1260,
    postCountElement      : document.querySelector('.voice-stats__post-count'),
    followersCountElement : document.querySelector('.voice-stats__followers'),
    aboutBoxButtonElement : document.querySelector('.voice-about-show-btn'),
    scrollableArea        : window
  };

  for (var propertyName in otherOptions) {
    voiceInfo[propertyName] = otherOptions[propertyName];
  }

  var Voice = new CV.Voice( voiceInfo );
</script>
